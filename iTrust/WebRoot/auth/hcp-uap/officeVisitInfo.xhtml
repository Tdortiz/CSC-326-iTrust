<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core">
<f:view
	beforePhase="#{navigation_controller.redirectIfInvalidPatient()}" />
<h:body>
	<ui:composition template="/iTrust_template.xhtml">
		<ui:define name="pageStyle">
			<link rel="stylesheet" href="/iTrust/css/officevisitinfo.css" />
			<link rel="stylesheet" href="/iTrust/css/form-layout.css" />
			<link rel="stylesheet" href="/iTrust/css/tab-layout.css" />
		</ui:define>
		<ui:define name="pageTitle">Office Visit</ui:define>
		<ui:define name="leftMenu">
			<ui:include src="/auth/hcp/menu.xhtml" />
		</ui:define>
		<ui:define name="mainContent">
			<h:message for="" id="officevisitinfo-message" class="iTrustError" />
			<h3>Document Office Visit</h3>
			<div class="tab-group">
				<input id="tab-general" type="radio" name="ovtabs" checked="checked" />
				<label for="tab-general">General Information</label>
				<c:if test="#{office_visit_form.isOfficeVisitCreated()}">
					<input id="tab-health-metrics" type="radio" name="ovtabs" />
					<label for="tab-health-metrics">Health Metrics</label>
					<input id="tab-lab-procedure" type="radio" name="ovtabs" />
					<label for="tab-lab-procedure">Lab Procedure</label>
				</c:if>

				<div class="tab-content">
					<div class="tab-panel" id="content-general">
						<h:form id="basic_ov_form">
							<div class="form-group">
								<h:outputLabel for="ovdate">Date:</h:outputLabel>
								<h:inputText id="ovdate" value="#{office_visit_form.date}"
									class="form-control inline" label="Date" name="date"
									required="true">
									<f:converter converterId="localDateTimeConverter" />
								</h:inputText>
								<h:message for="ovdate" class="iTrustError" />
							</div>

							<div class="form-group">
								<h:outputLabel for="ovLoc">Location:</h:outputLabel>
								<h:selectOneMenu id="ovLoc"
									value="#{office_visit_form.locationID}" class="selectpicker">
									<f:selectItems value="#{hospital_controller.getHospitalList()}"
										var="h" itemLabel="#{h.hospitalName}"
										itemValue="#{h.hospitalID}" />
								</h:selectOneMenu>
							</div>

							<div class="form-group">
								<h:outputLabel for="ovApptType">Appointment Type:</h:outputLabel>
								<h:selectOneMenu id="ovApptType"
									value="#{office_visit_form.apptTypeID}" class="selectpicker">
									<f:selectItems
										value="#{appt_type_controller.getApptTypelList()}" var="at"
										itemLabel="#{at.name}" itemValue="#{at.ID}" />
								</h:selectOneMenu>
							</div>

							<div class="form-group">
								<h:outputLabel for="ovnotes">Notes:</h:outputLabel>
								<h:inputTextarea value="#{office_visit_form.notes}" id="ovnotes"
									cols="30" rows="5" class="form-control inline"></h:inputTextarea>
							</div>

							<div class="form-group  form-button-group">
								<h:commandButton id="submitVisitButton" value="Save"
									action="#{office_visit_form.submit}" />
								<h:commandButton id="cancelVisitButton" value="Cancel"
									action="#{navigation_controller.baseOfficeVisit}"
									immediate="true" />
							</div>
						</h:form>
					</div>
					<c:if test="#{office_visit_form.isOfficeVisitCreated()}">
						<div class="tab-panel" id="content-health-metrics">
							<h:form id="health_metrics_form">
								<c:if test="#{office_visit_form.isPatientABaby()}">
									<div class="form-group">
										<h:outputLabel for="ovlength">Length:</h:outputLabel>
										<h:inputText value="#{office_visit_form.length}" id="ovlength"
											class="form-control inline"></h:inputText>
									</div>
								</c:if>

								<c:if
									test="#{office_visit_form.isPatientAChild() or office_visit_form.isPatientAnAdult()}">
									<div class="form-group">
										<h:outputLabel for="ovheight">Height:</h:outputLabel>
										<h:inputText value="#{office_visit_form.height}" id="ovheight"
											class="form-control inline"></h:inputText>
									</div>
								</c:if>

								<c:if
									test="#{office_visit_form.isPatientABaby() or office_visit_form.isPatientAChild() or office_visit_form.isPatientAnAdult()}">
									<div class="form-group">
										<h:outputLabel for="ovweight">Weight:</h:outputLabel>
										<h:inputText value="#{office_visit_form.weight}" id="ovweight"
											class="form-control inline"></h:inputText>
									</div>
								</c:if>

								<c:if test="#{office_visit_form.isPatientABaby()}">
									<div class="form-group">
										<h:outputLabel for="ovheadcirfumference">Head Circumference:</h:outputLabel>
										<h:inputText value="#{office_visit_form.headCircumference}"
											id="ovheadcirfumference" class="form-control inline"></h:inputText>
									</div>
								</c:if>

								<c:if
									test="#{office_visit_form.isPatientAChild() or office_visit_form.isPatientAnAdult()}">
									<div class="form-group">
										<h:outputLabel for="ovbloodpressure">Blood Pressure:</h:outputLabel>
										<h:inputText value="#{office_visit_form.bloodPressure}"
											id="ovbloodpressure" class="form-control inline"></h:inputText>
									</div>
								</c:if>

								<c:if
									test="#{office_visit_form.isPatientABaby() or office_visit_form.isPatientAChild() or office_visit_form.isPatientAnAdult()}">
									<div class="form-group">
										<h:outputLabel for="ovHouseholdSmokingStatus">Household Smoking Status:</h:outputLabel>
										<h:selectOneMenu id="ovHouseholdSmokingStatus"
											class="selectpicker"
											value="#{office_visit_form.householdSmokingStatus}">
											<f:selectItem itemValue="0" itemLabel="0 - Unselected" />
											<f:selectItem itemValue="1"
												itemLabel="1 - non-smoking household" />
											<f:selectItem itemValue="2" itemLabel="2 - outdoor smokers" />
											<f:selectItem itemValue="3" itemLabel="3 - indoor smokers" />
										</h:selectOneMenu>
									</div>
								</c:if>

								<c:if test="#{office_visit_form.isPatientAnAdult()}">
									<div class="form-group">
										<h:outputLabel for="ovPatientSmokingStatus">Patient Smoking Status:</h:outputLabel>
										<h:selectOneMenu id="ovPatientSmokingStatus"
											class="selectpicker"
											value="#{office_visit_form.patientSmokingStatus}">
											<f:selectItem itemValue="0" itemLabel="0 - Unselected" />
											<f:selectItem itemValue="1"
												itemLabel="1 - Current every day smoker" />
											<f:selectItem itemValue="2"
												itemLabel="2 - Current some day smoker" />
											<f:selectItem itemValue="3" itemLabel="3 - Former smoker" />
											<f:selectItem itemValue="4" itemLabel="4 - Never smoker" />
											<f:selectItem itemValue="5"
												itemLabel="5 - Smoker, current status unknown" />
											<f:selectItem itemValue="9"
												itemLabel="9 - unknown if ever smoked" />
										</h:selectOneMenu>
									</div>

									<div class="form-group">
										<h:outputLabel for="ovhdl">High Density Lipoproteins (HDL):</h:outputLabel>
										<h:inputText value="#{office_visit_form.HDL}" id="ovhdl"
											class="form-control inline"></h:inputText>
									</div>

									<div class="form-group">
										<h:outputLabel for="ovtriglycerides">Triglycerides:</h:outputLabel>
										<h:inputText value="#{office_visit_form.triglyceride}"
											id="ovtriglycerides" class="form-control inline"></h:inputText>
									</div>

									<div class="form-group">
										<h:outputLabel for="ovldl">Low Density Lipoproteins (LDL):</h:outputLabel>
										<h:inputText value="#{office_visit_form.LDL}" id="ovldl"
											class="form-control inline"></h:inputText>
									</div>
								</c:if>

								<div class="form-group form-button-group">
									<h:commandButton id="submitHealthMetricsButton" value="Save"
										action="#{office_visit_form.submitHealthMetrics}" />
									<h:commandButton id="cancelVisitButton" value="Cancel"
										action="#{navigation_controller.baseOfficeVisit}"
										immediate="true" />
								</div>
							</h:form>
						</div>
						<div class="tab-panel" id="content-lab-procedure">
							Lab Procedure
						</div>
					</c:if>
				</div>
			</div>

		</ui:define>

		<ui:define name="pageScripts">
			<script src="/iTrust/js/officevisitinfo.js"></script>
		</ui:define>
	</ui:composition>
</h:body>

</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core">

<h:body>
<ui:composition template="/iTrust_template.xhtml">
	<ui:define name="pageStyle"></ui:define>
	<ui:define name="pageTitle">Manage CPT Code List</ui:define>
	<ui:define name="leftMenu">
		<ui:include src="/auth/admin/menu.jsp" />
	</ui:define>

	<ui:define name="mainContent">
		<div align="center">
			<div align="center">
				<br /><h2 style="font-size: 175%; font-weight: bold;">CPT Codes</h2><br />
			</div>

			<div align="center">
				<h:form id="cptCodeForm">
					<!-- Input fields for codes -->
					<table class="fTable" align="center" width="500">
						<tr>
							<th colspan="3">Add or Update CPT Codes</th>
						</tr>
						<tr class="subHeader">
							<th>Code</th>
							<th>Description</th>
						</tr>
						<tr>
							<td style="padding-right: 10px;">
								<input type="text" id="code1" name="code1" size="5" maxlength="5" placeholder="Code"/>
							</td>
							<td>
								<input type="text" id="description" name="description" size="40" maxlength="50" placeholder="Description" />
							</td>
						</tr>
					</table>
					<br />
					
					<!-- Add/Update/Delete buttons -->
					<h:commandButton class="btn btn-default" value="Add Code" />
					<h:commandButton class="btn btn-default" value="Update Code" />
					<h:commandButton class="btn btn-default" value="Delete Code" />
					<br /><br /><br />
					
					<h3>Search For A Code By Entering At Least 3 Digits Of The Code</h3>
					<h:inputText id="searchBox" value="#{cpt_code_form.search}" maxlength="5">
						<!--  <f:validateLength minimum="3" maximum="5" /> -->
					</h:inputText>
					&nbsp;
					<h:commandButton id="searchCodeButton" class="btn btn-default" value="Search For Code">
						<f:ajax execute="@form" render="codes" />
					</h:commandButton>

					<br />	
				</h:form>
				<br /><br />
				
				<!--  Displays codes -->
				<c:set var="codeList" value="#{ cpt_code_form.getCodesWithFilter() }" />
				<c:choose>
					<c:when test="${!empty codeList}">
						<h:dataTable id="codes" styleClass="fTable" value="#{ cpt_code_form.getCodesWithFilter() }" var="code" border="1">
							<f:facet name="header">
								<h:outputText value="Current Codes" />
							</f:facet>

							<h:column>
								<f:facet name="header">Code</f:facet>
								<h:outputText value="#{code.code}" />
							</h:column>

							<h:column>
								<f:facet name="header">Description</f:facet>
								<h:outputText value="#{code.name}" />
							</h:column>
						</h:dataTable>
					</c:when>
					<c:otherwise>
						No Codes :(
					</c:otherwise>
				</c:choose>
				<br />
				
			</div>
		</div>
	</ui:define>

	<ui:define name="pageScripts"></ui:define>
</ui:composition>
</h:body>

</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:c="http://java.sun.com/jsp/jstl/core"
	  xmlns:f="http://java.sun.com/jsf/core">
		
<h:body>

	<ui:composition template = "/iTrust_template.xhtml">
		<ui:define name="pageStyle"></ui:define>
		<ui:define name = "pageTitle">Edit Lab Procedure</ui:define>
		<ui:define name  = "leftMenu"><ui:include src="/auth/lt/menu.jsp"/></ui:define>	
		
		<ui:define name="mainContent">
			<div align="center">
				<br />
				<h2 style="font-size: 175%; font-weight: bold;">Lab Procedure</h2>
				<br />
			</div>
			<div align="center">
				<h:message for="" class="iTrustError" />
			</div>
				
			<div align="center">
				
				<!-- TODO add the getter methods -->
				<h:dataTable id="received" styleClass="fTable" border="1" value="#{lab_procedure_form.getLabProcedure()}" var="labProc">
					
			    	<h:column>
				        <f:facet name="header">Lab Procedure ID</f:facet> 
				        <h:outputText value="#{labProc.getPriority()}" />
				    </h:column>
				    
				    <h:column>
				        <f:facet name="header">Lab Procedure Code</f:facet> 
				        <h:outputText value="#{labProc.getLabProcedureCode()}" />
				    </h:column>
				    
				    <h:column>
				        <f:facet name="header">Status</f:facet> 
				        <h:outputText value="#{labProc.getStatus()}" />
				    </h:column>
				    
				    <h:column>
				        <f:facet name="header">Priority</f:facet> 
				        <h:outputText value="#{labProc.getPriority()}" />
				    </h:column>
				    
				    <h:column>
				        <f:facet name="header">HCP Name</f:facet> 
				        <h:outputText value="HCP NAME" />
				    </h:column>
				    
				    <h:column>
				        <f:facet name="header">Office Visit Date</f:facet> 
				        <c:set var="OvForThisLabProc" value="#{labProc.getOfficeVisitID()}" />
				        <h:outputText id="ovdate" value="#{office_visit_controller.getVisitByID( OvForThisLabProc ).getDate()}">
							<f:converter converterId="localDateTimeConverter" />
						</h:outputText>
				    </h:column>
				</h:dataTable>
				<br />
				
				<h:form>
					<h:panelGrid columns="4" id="basic_lp_panel" columnClasses="lp_label, lp_input, lp_error, lp_newline">
						<h:outputLabel for="lpResults">Results:</h:outputLabel>
						<h:inputTextarea value="#{lab_procedure_form.labProcedure.commentary}" id="lpResults" cols="30" rows="5"></h:inputTextarea>
						<h:message for="lpResults" class="iTrustError" />
						<br />
						<br />
						
						<h:outputLabel for="lpConfidence">Confidence Interval:</h:outputLabel>
						<h:inputTextarea value="#{lab_procedure_form.labProcedure.results}" id="lpConfidence" cols="30" rows="5"></h:inputTextarea>
						<h:message for="lpConfidence" class="iTrustError" />
						<br />
						<br />
					</h:panelGrid>
					
					<h:commandButton style="font-size: 150%; font-weight: bold; margin-right: 5rem;"
								     id="recordLabProcedureButton" value="Record Lab Procedure"
								     action="#{lab_procedure_form.recordResults()}"/>
				</h:form>
				<br />
				
				<h:button style="font-size: 150%; font-weight: bold; margin-right: 5rem;"
								     id="cancelButton" value="Cancel" outcome="manageLabProcedures"/>
			
			</div>
		</ui:define>
		
		<ui:define name="pageScripts"></ui:define>
	</ui:composition>
</h:body>

</html>